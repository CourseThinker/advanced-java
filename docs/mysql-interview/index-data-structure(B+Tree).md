## 面试题
Mysql索引数据结构B-Tree?

> 引言：索引，相信大多数人已经相当熟悉了，很多人都知道 MySQL 的索引主要以 B+ 树为主，但是要问到为什么用 B+ 树,
> 恐怕很少有人能把前因后果讲述完整。本文就来从头到尾介绍下数据库的索引.

索引是一种数据结构，用于帮助我们在大量数据中快速定位到我们想要查找的数据。  

索引最形象的比喻就是图书的目录了。注意这里的大量，数据量大了索引才显得有意义，如果我想要在 [1,2,3,4] 中找到 4 这个数据，直接对全数据检索也很快，没有必要费力气建索引再去查找。

**索引在Mysql数据库中分类：**
- [B+ 树索引]
- [Hash索引]
- [R-Tree空间索引]
- [全文索引]
要介绍 B+ 树索引，就不得不提二叉查找树，平衡二叉树和 B 树这三种数据结构。B+ 树就是从他们仨演化来的。

**二叉查找树**  
![](/docs/mysql-interview/images/二叉树.png)  
从图中可以看到，我们为user表建立了一个二叉查找树的索引。  
图中的圆为二叉查找树的节点，节点中存储了键（key）和数据（data）。键对应 user 表中的 id，数据对应 user 表中的行数据。  
二叉查找树的特点就是任何节点的左子节点的键值都小于当前节点的键值，右子节点的键值都大于当前节点的键值。顶端的节点我们称为根节点，没有子节点的节点我们称之为叶节点。 

**如果我们需要查找 id=12 的用户信息，利用我们创建的二叉查找树索引，查找流程如下：**  
* 将根节点作为当前节点，把 12 与当前节点的键值 10 比较，12 大于 10，接下来我们把当前节点>的右子节点作为当前节点。 
* 继续把 12 和当前节点的键值 13 比较，发现 12 小于 13，把当前节点的左子节点作为当前节点。 
* 把 12 和当前节点的键值 12 对比，12 等于 12，满足条件，我们从当前节点中取出 data，即 id=12，name=xm。

利用二叉查找树我们只需要 3 次即可找到匹配的数据。如果在表中一条条的查找的话，我们需要 6 次才能找到。
